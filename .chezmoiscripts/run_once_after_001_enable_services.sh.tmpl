#!/bin/sh

# Script: run_once_after_001_enable_services.sh.tmpl
# Purpose: Enable system services for Docker, Snap, and Bluetooth
# Requirements: Linux

{{ if eq .chezmoi.os "linux" }}

    # Enable docker service
    sudo systemctl enable docker.service

    # Enable snap service
    sudo systemctl enable --now snapd.socket
    sudo systemctl enable --now snapd.apparmor.service

    # Enable bluetooth
    sudo systemctl enable --now bluetooth

{{ else }}
    echo "ERROR: This script is only supported on Linux systems"
    echo "Required: OS 'linux'"
    echo "Detected: '{{ .chezmoi.os }}'"
    echo "Script: $(basename "$0")"
    exit 1
{{ end }}
