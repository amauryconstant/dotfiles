#!/bin/sh

# Script: run_once_before_003_create_necessary_directories.sh.tmpl
# Purpose: Create necessary directories for XDG, SSH, keys, and synchronized files
# Requirements: Linux

{{ if eq .chezmoi.os "linux" }}

    # Create directories to use with $XDG_*
    mkdir -p $HOME/.local/bin
    mkdir -p $HOME/.local/pvm
    mkdir -p $HOME/.local/share
    mkdir -p $HOME/.local/state
    mkdir -p $HOME/.cache

    # Create the .ssh and .keys directories
    mkdir -p $HOME/.ssh
    chmod 700 $HOME/.ssh
    mkdir -p $HOME/.keys
    chmod 700 $HOME/.keys

    # Create a directory for synced files
    mkdir -p $HOME/Synchronized

{{ else }}
    echo "ERROR: This script is only supported on Linux systems"
    echo "Required: OS 'linux'"
    echo "Detected: '{{ .chezmoi.os }}'"
    echo "Script: $(basename "$0")"
    exit 1
{{ end }}
