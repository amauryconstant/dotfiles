#!/bin/sh

{{ if eq .osId "linux-arch" }}

    # Remove tldr to avoid incompatibility with tlrc
    yay -R --noconfirm {{ .packages.delete.arch }}

    # Install all arch packages
    {{ range .packages.install.arch -}}
        yay -S --noconfirm --needed {{ . }}
    {{ end -}}

{{ else }}
    echo "ERROR: This script is only supported on Arch Linux systems"
    echo "Required: osId 'linux-arch'"
    echo "Detected: '{{ .osId }}'"
    echo "Script: $(basename "$0")"
    exit 1
{{ end }}
