packages:
  # NOTE: archinstall_baseline tracks packages likely installed during initial system setup
  # These are documented for redundancy checking but NOT managed by chezmoi
  # Review periodically to identify overlaps with manually managed packages below
  archinstall_baseline:
    core_system:
      - base                    # Base Arch Linux system
      - base-devel              # Development tools (make, gcc, etc.)
      - linux-firmware          # Hardware firmware files
      - linux                   # Linux kernel (or linux-lts/linux-zen/linux-hardened)
      - systemd-boot            # UEFI boot manager
      - efibootmgr              # EFI boot entry management
      - sudo                    # Privilege escalation
      - cryptsetup              # LUKS disk encryption utilities

    hyprland_desktop:
      - hyprland                # Wayland compositor
      - dunst                   # Notification daemon
      - kitty                   # Terminal emulator
      - uwsm                    # Universal Wayland session manager
      - dolphin                 # KDE file manager
      - wofi                    # Application launcher
      - xdg-desktop-portal-hyprland  # Portal for screen sharing
      - qt5-wayland             # Qt5 Wayland support
      - qt6-wayland             # Qt6 Wayland support
      - polkit-kde-agent        # Polkit authentication agent
      - grim                    # Screenshot utility
      - slurp                   # Screen area selection
      - htop                    # Process viewer
      - iwd                     # Wireless daemon (used as NetworkManager backend)
      - nano                    # Text editor (archinstall default)
      - smartmontools           # Disk health monitoring
      - vim                     # Vi-improved text editor
      - wget                    # File download utility
      - wireless_tools          # Wireless network configuration
      - wpa_supplicant          # WPA/WPA2 authentication (replaced by iwd)
      - xdg-utils               # Desktop integration utilities
      - openssh                 # SSH client and server

    audio_pipewire:
      - pipewire                # Modern audio system
      - pipewire-alsa           # ALSA compatibility layer
      - pipewire-jack           # JACK compatibility layer
      - pipewire-pulse          # PulseAudio replacement
      - gst-plugin-pipewire     # GStreamer integration
      - libpulse                # PulseAudio client libraries
      - wireplumber             # PipeWire session manager

    network:
      - networkmanager          # Network configuration daemon

    graphics_drivers:
      - dkms                    # Dynamic Kernel Module Support
      - libva-nvidia-drivers    # VA-API hardware acceleration for NVIDIA
      - nvidia-open-dkms        # NVIDIA open-source kernel modules (DKMS)
      - xorg-server             # X.Org display server (for XWayland)
      - xorg-xinit              # X.Org initialization

    greeter:
      - sddm                    # Simple Desktop Display Manager

  install:
    arch:
      strategies:
        default_strategy: [pacman, yay_bin, yay_source]
        _install_binary: &_install_binary [pacman, yay_bin]
        _install_from_source: &_install_from_source [pacman, yay_bin, yay_source]

      packages:
        fonts:
          list:
            - ttf-firacode-nerd
            - otf-opendyslexic-nerd
            - otf-geist-mono-nerd
            - ttf-fira-sans

        terminal_essentials:
          strategy: *_install_from_source
          list:
            - ghostty
            - neovim
            - starship
            - zsh
            - zsh-antidote
            - zoxide
            - fzf
            - tlrc
            - fd
            - ripgrep
            - broot
            - bat
            - eza
            - xh
            - jaq
            - go-yq
            - rsync
            - tree

        terminal_utils:
          strategy: *_install_from_source
          list:
            - fastfetch
            - usage
            - nvitop
            - btop
            - topgrade
            - vhs
            - gum
            - dust

        languages:
          strategy: *_install_from_source
          list:
            - go
            - python
            - rust

        development_tools:
          list:
            - mise
            - docker
            - docker-compose
            - docker-buildx

        development_clis:
          strategy: *_install_from_source
          list:
            - aws-cli-v2
            - git-delta
            - mergiraf
            - jujutsu
            - lazygit
            - lazydocker
            - posting

        system_software:
          list:
            - flatpak

        networking_tools:
          strategy: *_install_binary
          list:
            - tailscale
            - networkmanager        # Network configuration daemon

        general_software:
          strategy: *_install_binary
          list:
            - firefox
            - nextcloud-client
            - gnome-keyring # WiFi password storage

        work_software:
          strategy: *_install_binary
          list:
            - chromium
            - code

        printing_scanning:
          strategy: *_install_binary
          list:
            - cups
            - cups-pdf
            - system-config-printer
            - sane
            - sane-airscan
            - samsung-unified-driver-common
            - samsung-unified-driver-printer
            - samsung-unified-driver-scanner
            - skanpage
            - imagemagick

        ai_tools:
          strategy: *_install_from_source
          list:
            - ollama

        system_monitoring:
          strategy: *_install_from_source
          list:
            - glances
            - inxi
            - lm_sensors
            - pacman-contrib

        hyprland_desktop:
          strategy: *_install_binary
          list:
            - waybar             # Status bar for Hyprland
            - hyprlock           # Official Hyprland screen locker
            - hypridle           # Official Hyprland idle management daemon
            - hyprpaper          # Official Hyprland wallpaper daemon
            - cliphist           # Clipboard history manager
            - wlogout            # Power menu for logout/shutdown/reboot
            - wl-clipboard       # Wayland clipboard utilities
            - pamixer            # PulseAudio/PipeWire volume control
            - brightnessctl      # Backlight brightness control
            - playerctl          # Media player control (MPRIS)
            - blueman            # Bluetooth manager GUI (GTK)

  flatpak:
    packages:
      proprietary_apps:
        - com.spotify.Client
        - com.slack.Slack

      cross_platform:
        - com.github.xournalpp.xournalpp
        - org.qbittorrent.qBittorrent

  delete:
    arch:
      - htop                    # Redundant with btop/glances
      - vim                     # Replaced by neovim
