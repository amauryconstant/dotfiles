/* Firefox userChrome.css - Gruvbox Dark Theme */
/* Requires: toolkit.legacyUserProfileCustomizations.stylesheets = true in about:config */

:root {
  --bg-primary: #1d2021;
  --bg-secondary: #282828;
  --bg-tertiary: #3c3836;
  --fg-primary: #ebdbb2;
  --fg-secondary: #d5c4a1;
  --fg-muted: #a89984;
  --accent-primary: #83a598;
  --accent-border: #8ec07c;
  --accent-info: #b8bb26;
}

/* Tab bar */
#TabsToolbar {
  background-color: var(--bg-primary) !important;
}

.tabbrowser-tab[selected] .tab-background {
  background-color: var(--bg-secondary) !important;
}

.tabbrowser-tab:not([selected]) .tab-background {
  background-color: var(--bg-primary) !important;
}

.tab-text {
  color: var(--fg-primary) !important;
}

.tabbrowser-tab:not([selected]) .tab-text {
  color: var(--fg-secondary) !important;
}

/* URL bar */
#urlbar,
#searchbar {
  background-color: var(--bg-secondary) !important;
  color: var(--fg-primary) !important;
  border-color: var(--bg-tertiary) !important;
}

#urlbar[focused],
#searchbar[focused] {
  border-color: var(--accent-border) !important;
}

/* Toolbar */
#nav-bar {
  background-color: var(--bg-primary) !important;
}

/* Sidebar */
#sidebar-box {
  background-color: var(--bg-secondary) !important;
  border-color: var(--bg-tertiary) !important;
}

/* CONTRAST FIX: Ensure all elements on elevated surfaces use primary text */

/* Toolbar icons and buttons on elevated surfaces */
#nav-bar toolbarbutton,
#nav-bar toolbaritem,
#nav-bar .toolbarbutton-text,
#nav-bar .toolbarbutton-icon {
  color: var(--fg-primary) !important;
  fill: var(--fg-primary) !important;
}

/* URL bar icons (refresh, bookmarks, etc.) */
#urlbar toolbarbutton,
#urlbar .urlbar-icon,
#urlbar .urlbar-icon-wrapper {
  color: var(--fg-primary) !important;
  fill: var(--fg-primary) !important;
}

/* Searchbar icons */
#searchbar toolbarbutton,
#searchbar .searchbar-search-icon {
  color: var(--fg-primary) !important;
  fill: var(--fg-primary) !important;
}

/* Selected tab - ensure all child elements use primary text */
.tabbrowser-tab[selected] .tab-text,
.tabbrowser-tab[selected] .tab-icon-image,
.tabbrowser-tab[selected] .tab-close-button {
  color: var(--fg-primary) !important;
  fill: var(--fg-primary) !important;
}

/* Sidebar content */
#sidebar-box .sidebar-title,
#sidebar-box treechildren {
  color: var(--fg-primary) !important;
}
