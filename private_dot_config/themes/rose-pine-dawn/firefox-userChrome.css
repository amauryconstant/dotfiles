/* Firefox userChrome.css - RosÃ© Pine Dawn Theme */
/* Requires: toolkit.legacyUserProfileCustomizations.stylesheets = true in about:config */

:root {
  /* Background Hierarchy */
  --bg-primary: #faf4ed;
  --bg-secondary: #fffaf3;
  --bg-tertiary: #f2e9e1;
  
  /* Foreground Hierarchy */
  --fg-primary: #575279;
  --fg-secondary: #907aa9;
  --fg-muted: #9893a5;
  
  /* Core Accents */
  --accent-primary: #286983;
  --accent-border: #56949f;
  --accent-info: #56949f;
  --accent-success: #56949f;
  --accent-warning: #ea9d34;
  --accent-error: #b4637a;
}

/* ==================== NAVIGATION BUTTONS ==================== */

#back-button > .toolbarbutton-icon {
  --backbutton-background: transparent !important;
  border: none !important;
}

/* ==================== TAB BAR ==================== */

#TabsToolbar {
  background-color: var(--bg-primary) !important;
}

/* Tab background states */
.tabbrowser-tab[selected] .tab-background {
  background-color: var(--bg-secondary) !important;
}

.tabbrowser-tab:not([selected]) .tab-background {
  background-color: var(--bg-primary) !important;
}

.tabbrowser-tab:hover .tab-background {
  background-color: var(--bg-tertiary) !important;
}

/* Tab text - MAIN BAR READABILITY */
.tab-text {
  color: var(--fg-primary) !important;
  font-weight: 500 !important;
}

.tabbrowser-tab:not([selected]) .tab-text {
  color: var(--fg-secondary) !important;
}

.tabbrowser-tab:hover .tab-text {
  color: var(--fg-primary) !important;
}

/* Tab close button - MAIN BAR READABILITY */
.tab-close-button {
  opacity: 0.7 !important;
  transition: opacity 0.2s !important;
}

.tab-close-button:hover {
  opacity: 1 !important;
  background-color: var(--accent-error) !important;
  border-radius: 50% !important;
}

/* Tab audio indicator - MAIN BAR READABILITY */
.tab-icon-sound-playing {
  fill: var(--accent-warning) !important;
}

.tab-icon-sound-muted {
  fill: var(--fg-muted) !important;
}

/* Tab loading indicator */
.tab-throbber[progress] {
  fill: var(--accent-primary) !important;
}

.tabbrowser-tab[busy] .tab-throbber {
  fill: var(--accent-primary) !important;
}

/* Tab pinned state */
.tabbrowser-tab[pinned] .tab-icon-image {
  filter: saturate(1.5) !important;
}

/* ==================== URL BAR - MAIN BAR READABILITY ==================== */

#urlbar,
#searchbar {
  background-color: var(--bg-secondary) !important;
  color: var(--fg-primary) !important;
  border-color: var(--bg-tertiary) !important;
}

#urlbar[focused],
#searchbar[focused] {
  border-color: var(--accent-border) !important;
  box-shadow: 0 0 0 1px var(--accent-border) !important;
}

/* URL bar input field - MAIN BAR READABILITY */
#urlbar-input,
#searchbar-input {
  color: var(--fg-primary) !important;
  font-weight: 500 !important;
  font-size: 14px !important;
}

/* URL bar placeholder - MAIN BAR READABILITY */
#urlbar::placeholder,
#searchbar::placeholder {
  color: var(--fg-muted) !important;
  opacity: 0.8 !important;
}

/* URL bar identity box */
#identity-box {
  border-right: 1px solid var(--bg-tertiary) !important;
  padding-right: 8px !important;
}

#identity-box .verifiedIdentity {
  color: var(--accent-primary) !important;
}

/* URL bar page action buttons - MAIN BAR READABILITY */
#page-action-buttons .urlbar-icon {
  fill: var(--fg-secondary) !important;
}

#page-action-buttons .urlbar-icon:hover {
  fill: var(--fg-primary) !important;
}

/* ==================== TOOLBAR ==================== */

#nav-bar {
  background-color: var(--bg-primary) !important;
}

/* Toolbar icons - MAIN BAR READABILITY */
#nav-bar toolbarbutton,
#nav-bar toolbaritem,
#nav-bar .toolbarbutton-text,
#nav-bar .toolbarbutton-icon {
  color: var(--fg-primary) !important;
  fill: var(--fg-primary) !important;
}

/* URL bar icons - MAIN BAR READABILITY */
#urlbar toolbarbutton,
#urlbar .urlbar-icon,
#urlbar .urlbar-icon-wrapper {
  color: var(--fg-primary) !important;
  fill: var(--fg-primary) !important;
}

/* Searchbar icons - MAIN BAR READABILITY */
#searchbar toolbarbutton,
#searchbar .searchbar-search-icon {
  color: var(--fg-primary) !important;
  fill: var(--fg-primary) !important;
}

/* Selected tab - ensure all child elements use primary text */
.tabbrowser-tab[selected] .tab-text,
.tabbrowser-tab[selected] .tab-icon-image,
.tabbrowser-tab[selected] .tab-close-button {
  color: var(--fg-primary) !important;
  fill: var(--fg-primary) !important;
}

/* ==================== BOOKMARKS BAR ==================== */

#PersonalToolbar {
  background-color: var(--bg-secondary) !important;
  border-bottom: 1px solid var(--bg-tertiary) !important;
}

/* Bookmarks toolbar items - MAIN BAR READABILITY */
#PersonalToolbar .bookmark-item {
  color: var(--fg-primary) !important;
}

#PersonalToolbar .bookmark-item:hover {
  background-color: var(--bg-tertiary) !important;
  color: var(--fg-primary) !important;
}

/* Bookmarks folder */
#PersonalToolbar .bookmark-item[container] {
  list-style-image: url(chrome://user/skin/folder.svg) !important;
  fill: var(--accent-primary) !important;
}

/* ==================== SIDEBAR ==================== */

#sidebar-box {
  background-color: var(--bg-secondary) !important;
  border-color: var(--bg-tertiary) !important;
}

/* Sidebar content - MAIN BAR READABILITY */
#sidebar-box .sidebar-title,
#sidebar-box treechildren {
  color: var(--fg-primary) !important;
}

/* ==================== CONTEXT MENUS ==================== */

menupopup,
panel[type="arrow"] {
  background-color: var(--bg-secondary) !important;
  border: 1px solid var(--bg-tertiary) !important;
  border-radius: 8px !important;
}

/* Context menu items - MAIN BAR READABILITY */
menuitem,
menu {
  color: var(--fg-primary) !important;
}

menuitem:hover,
menu:hover {
  background-color: var(--bg-tertiary) !important;
  color: var(--fg-primary) !important;
}

/* Context menu separator */
menuseparator {
  border-color: var(--bg-tertiary) !important;
}

/* Context menu disabled items */
menuitem[disabled],
menu[disabled] {
  color: var(--fg-muted) !important;
}

/* Context menu icons */
.menu-iconic-left {
  fill: var(--fg-secondary) !important;
}

/* Context menu accelerator text */
.menu-accelerator {
  color: var(--fg-muted) !important;
}

/* Context menu checkbox */
menuitem[checked="true"] .menu-iconic-icon {
  fill: var(--accent-primary) !important;
}

/* ==================== FIND BAR ==================== */

FindToolbar {
  background-color: var(--bg-tertiary) !important;
  border-top: 1px solid var(--bg-tertiary) !important;
}

/* Find bar input - MAIN BAR READABILITY */
.findbar-textbox {
  background-color: var(--bg-primary) !important;
  color: var(--fg-primary) !important;
  border: 1px solid var(--bg-tertiary) !important;
}

.findbar-textbox:focus {
  border-color: var(--accent-primary) !important;
}

/* Find bar buttons */
.findbar-button {
  background-color: var(--bg-secondary) !important;
  color: var(--fg-primary) !important;
  border: 1px solid var(--bg-tertiary) !important;
}

.findbar-button:hover {
  background-color: var(--bg-tertiary) !important;
}

/* Find bar status labels */
.findbar-find-status,
.findbar-matched {
  color: var(--fg-primary) !important;
}

/* ==================== DOWNLOADS PANEL ==================== */

.panel-subview-body {
  background-color: var(--bg-secondary) !important;
}

/* Downloads items */
.downloadMainArea {
  background-color: var(--bg-secondary) !important;
}

.download-state {
  color: var(--fg-primary) !important;
}

/* Downloads progress bar */
.downloadProgress {
  background-color: var(--bg-tertiary) !important;
}

.downloadProgress::-moz-progress-bar {
  background-color: var(--accent-primary) !important;
}

/* ==================== ABOUT PAGES ==================== */

@-moz-document url-prefix("about:") {
  body {
    background-color: var(--bg-primary) !important;
    color: var(--fg-primary) !important;
  }

  a {
    color: var(--accent-primary) !important;
  }

  h1, h2, h3 {
    color: var(--fg-primary) !important;
  }
}
