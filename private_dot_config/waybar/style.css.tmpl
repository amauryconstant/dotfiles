/* ========================================================================== */
/* Waybar Stylesheet - Theme System */
/* ========================================================================== */

/* Import current theme colors */
@import "../themes/current/waybar.css";

/*
 * Custom CSS for Waybar status bar with dynamic theme support.
 * Colors are imported from the active theme.
 *
 * STRUCTURE:
 * - Universal styles (fonts, resets)
 * - Main window (bar background)
 * - Workspaces (buttons and states)
 * - Window title
 * - Clock
 * - System modules (CPU, memory, temperature, network, audio)
 * - System tray
 *
 * CUSTOMIZATION TIPS:
 * - Colors are defined in ~/.config/themes/current/waybar.css
 * - Modify font-size for HiDPI displays
 * - Adjust padding for denser/looser layouts
 * - Change border-radius in #workspaces button for rounded corners
 */

/* -------------------------------------------------------------------------- */
/* Universal Styles */
/* -------------------------------------------------------------------------- */
/* Universal Styles */
/* -------------------------------------------------------------------------- */
* {
  /* Remove default borders and rounding */
  border: none;
  border-radius: 0;

  /* Font: Terminal font for icons and text */
  font-family: {{ .terminalFont | quote }}, monospace;

  /* Base font size - increase for HiDPI (e.g., 16px, 18px) */
  font-size: 13px;

  /* Prevent excessive height from icons */
  min-height: 0;
}

/* -------------------------------------------------------------------------- */
/* Main Bar Window */
/* -------------------------------------------------------------------------- */
window#waybar {
  /* Background: Oksolar darkest (base03) */
  background-color: @bg-primary;

  /* Text color: Oksolar default text (base0) */
  color: @fg-primary;

  /* Smooth background color transitions (for potential themes/modes) */
  transition-property: background-color;
  transition-duration: 0.5s;

  /* Optional: Add transparency (uncomment to use) */
  /* opacity: 0.95; */

  /* Optional: Add bottom border (uncomment to use) */
  /* border-bottom: 2px solid @bg-secondary; */
}

/* -------------------------------------------------------------------------- */
/* Workspaces Module */
/* -------------------------------------------------------------------------- */

/* Workspace buttons: Default state (inactive) */
#workspaces button {
  /* Spacing inside buttons */
  padding: 0 8px;

  /* Transparent background for inactive workspaces */
  background-color: transparent;

  /* Text color: Oksolar muted (base01) */
  color: @fg-muted;

  /* Optional: Add border between workspaces (uncomment to use) */
  /* border-right: 1px solid @bg-secondary; */
}

/* Workspace buttons: Hover state */
#workspaces button:hover {
  /* Background: Oksolar blue (primary accent) */
  background-color: @accent-primary;

  /* Text color: Oksolar lightest (base3) - high contrast on blue */
  color: @fg-contrast;

  /* Enhanced hover effect */
  transition: all 0.2s ease;
}

/* Workspace buttons: Active workspace */
#workspaces button.active {
  /* Background: Oksolar blue (primary accent) */
  background-color: @accent-primary;

  /* Text color: Oksolar lightest (base3) - high contrast on blue */
  color: @fg-contrast;

  /* Optional: Make active workspace bold */
  /* font-weight: bold; */
}

/* Workspace buttons: Urgent state (windows demanding attention) */
#workspaces button.urgent {
  /* Background: Oksolar red (error/alert) */
  background-color: @accent-error;

  /* Text color: Oksolar lightest (base3) - high contrast on red */
  color: @fg-contrast;

  /* Optional: Add animation (uncomment to use) */
  /* animation: blink 1s linear infinite; */
}

/* Optional: Blink animation for urgent workspaces */
/* @keyframes blink {
 *   0%, 100% { opacity: 1; }
 *   50% { opacity: 0.5; }
 * } */

/* -------------------------------------------------------------------------- */
/* Window Title Module */
/* -------------------------------------------------------------------------- */
#window {
  /* Text color: Oksolar light text (base1) */
  color: @fg-secondary;

  /* Font weight: Normal (not bold) */
  font-weight: normal;

  /* Spacing: Left and right padding */
  padding: 0 10px;

  /* Optional: Italic style for window title */
  /* font-style: italic; */

  /* Optional: Fade out when no window */
  /* opacity: 0.8; */
}

/* Optional: Style when no window is open */
/* window#waybar.empty #window {
 *   opacity: 0.5;
 * } */

/* -------------------------------------------------------------------------- */
/* Clock Module */
/* -------------------------------------------------------------------------- */
#clock {
  /* Text color: Oksolar blue (matches active workspace) */
  color: @accent-primary;

  /* Font weight: Bold to stand out */
  font-weight: bold;

  /* Spacing: Left and right padding */
  padding: 0 10px;

  /* Optional: Add background (uncomment to use) */
  /* background-color: @bg-secondary; */
  /* border-radius: 4px; */

  /* Optional: Larger font size */
  /* font-size: 14px; */
}

/* -------------------------------------------------------------------------- */
/* Enhanced Module Styling with Visual Grouping */
/* -------------------------------------------------------------------------- */

/* System monitoring group - visual cohesion */
#network,
#backlight,
#battery {
  /* Spacing: Left and right padding */
  padding: 0 12px;

  /* Zero margins for visual grouping */
  margin-right: 0px;

  /* Smooth transitions for hover effects */
  transition: all 0.2s ease;

  /* Connected borders for visual continuity */
  border-radius: 0px;
}

/* First module in system monitoring group - left rounded corners */
#network {
  color: @accent-info;
  border-top-left-radius: 8px;
  border-bottom-left-radius: 8px;
}

/* Network Module: Disconnected state */
#network.disconnected {
  color: @fg-muted;
}

/* Last module in system monitoring group - right rounded corners */
#battery {
  color: @accent-success;
  border-top-right-radius: 8px;
  border-bottom-right-radius: 8px;
}

/* Backlight module - positioned before battery */
#backlight {
  color: @accent-warning;
}

/* Enhanced hover effects with module-specific colors (Phase 3 - semantic variables) */
#network:hover {
  background-color: @accent-info-hover;        /* Semantic network hover */
}

#backlight:hover {
  background-color: @accent-warning-hover;     /* Semantic backlight hover */
}

#battery:hover {
  background-color: @accent-success-hover;     /* Semantic battery hover */
}

/* -------------------------------------------------------------------------- */
/* Media Cluster (PulseAudio + MPRIS) */
/* -------------------------------------------------------------------------- */

/* Media cluster group - visual cohesion */
#pulseaudio,
#mpris {
  /* Spacing: Left and right padding */
  padding: 0 12px;

  /* Zero margins for visual grouping */
  margin-right: 0px;

  /* Smooth transitions for hover effects */
  transition: all 0.2s ease;

  /* Connected borders for visual continuity */
  border-radius: 0px;
}

/* PulseAudio - first module in media cluster */
#pulseaudio {
  color: @accent-highlight;
  border-top-left-radius: 8px;
  border-bottom-left-radius: 8px;
}

/* PulseAudio Module: Muted state */
#pulseaudio.muted {
  color: @fg-muted;
}

/* PulseAudio: Hover effect */
#pulseaudio:hover {
  background-color: @accent-highlight-hover;   /* Semantic audio hover */
}

/* MPRIS - last module in media cluster */
#mpris {
  color: @accent-media;
  border-top-right-radius: 8px;
  border-bottom-right-radius: 8px;
}

/* MPRIS: Playing state */
#mpris.playing {
  color: @accent-media;
}

/* MPRIS: Paused state (dimmed) */
#mpris.paused {
  color: @fg-muted;
}

/* MPRIS: Stopped state (very subtle) */
#mpris.stopped {
  color: @fg-muted;
  opacity: 0.7;
}

/* MPRIS: Hover effect */
#mpris:hover {
  background-color: @accent-media-hover;       /* Semantic media hover */
}

/* -------------------------------------------------------------------------- */
/* System Tray Module */
/* -------------------------------------------------------------------------- */
#tray {
  /* Spacing: Left and right padding */
  padding: 0 10px;

  /* Optional: Add background to separate from other modules */
  /* background-color: @bg-secondary; */
  /* margin: 0 5px; */
  /* border-radius: 4px; */
}

/* Tray icons: Passive state (not demanding attention) */
#tray > .passive {
  /* GTK icon effect: Dim inactive icons */
  -gtk-icon-effect: dim;

  /* Optional: Reduce opacity for passive icons */
  /* opacity: 0.7; */
}

/* Tray icons: Needs attention state (notifications) */
#tray > .needs-attention {
  /* GTK icon effect: Highlight to draw attention */
  -gtk-icon-effect: highlight;

  /* Background: Oksolar red (error/alert) to stand out */
  background-color: @accent-error;

  /* Optional: Add padding and rounding */
  /* padding: 0 5px; */
  /* border-radius: 4px; */

  /* Optional: Add animation (uncomment to use) */
  /* animation: attention 1s ease-in-out infinite; */
}

/* Optional: Attention animation for tray items */
/* @keyframes attention {
 *   0%, 100% { opacity: 1; }
 *   50% { opacity: 0.7; }
 * } */

/* ========================================================================== */
/* Laptop-Specific Module Styles (bluetooth, battery, backlight) */
/* ========================================================================== */
{{ if eq .chassisType "laptop" }}
/* Bluetooth module */
#bluetooth {
  /* Default color: Oksolar cyan (represents connectivity) */
  color: @accent-info;

  /* Spacing: Left and right padding */
  padding: 0 10px;
}

/* Bluetooth module: Disabled state */
#bluetooth.disabled {
  /* Color: Oksolar muted (base01) - dimmed to show inactive */
  color: @fg-muted;
}

/* Bluetooth module: Connected state */
#bluetooth.connected {
  /* Color: Oksolar violet (represents active connection) */
  color: @accent-highlight;
}

/* Enhanced Battery module with state-based styling */
#battery {
  /* Default color: Green (good battery level >30%) */
  color: @accent-success;
}

/* Battery module: Moderate warning state (20-30% - Phase 3) */
#battery.warning:not(.charging):not(.critical) {
  color: @accent-urgent-secondary;  /* Moderate urgency indicator */
}

/* Battery module: Low warning state (< 20%) */
#battery.low:not(.charging) {
  color: @accent-warning;           /* Standard warning color */
}

/* Battery module: Critical state (< 10%) with enhanced animation */
#battery.critical:not(.charging) {
  color: @accent-error;
  font-weight: bold;
  animation: critical-blink 1s linear infinite alternate;
}

/* Battery module: Charging state */
#battery.charging {
  /* Color: Oksolar cyan (represents power input) */
  color: @accent-info;
}

/* Battery module: Plugged state (full, on AC power) */
#battery.plugged {
  /* Color: Oksolar blue (represents stable state) */
  color: @accent-primary;
}

/* Enhanced Backlight module */
#backlight {
  /* Color: Oksolar yellow (represents brightness/light) */
  color: @accent-warning;
}

/* Enhanced critical battery animation with background flash */
@keyframes critical-blink {
  0% {
    background: transparent;
    color: @accent-error;
  }
  50% {
    background: @accent-error;
    color: @fg-contrast;
  }
  100% {
    background: transparent;
    color: @accent-error;
  }
}

/* Smooth transition animations for state changes */
#network,
#pulseaudio,
#backlight,
#battery {
  transition: color 0.3s ease, background-color 0.3s ease;
}
{{ end }}

/* ========================================================================== */
/* Additional Module Styles (add as needed) */
/* ========================================================================== */

/* Idle inhibitor module: */
/* #idle_inhibitor {
 *   color: @fg-muted;
 * }
 *
 * #idle_inhibitor.activated {
 *   color: @accent-tertiary;
 * } */

/* Disk module (Phase 3 - performance semantic variable) */
#disk {
  color: @accent-performance;  /* Normal disk usage state */
}

#disk.warning {
  color: @accent-warning;      /* Standard warning color */
}

#disk.critical {
  color: @accent-error;        /* Critical disk space */
}

/* Custom modules: */
/* #custom-weather {
 *   color: @accent-info;
 *   padding: 0 10px;
 * } */

/* ========================================================================== */
/* Alternative Bar Positions (uncomment if using bottom/left/right) */
/* ========================================================================== */

/* Bottom bar specific styles: */
/* window#waybar.bottom {
 *   border-top: 2px solid @fg-muted;
 *   border-bottom: none;
 * } */

/* Left bar specific styles: */
/* window#waybar.left {
 *   border-right: 2px solid @fg-muted;
 * } */

/* Right bar specific styles: */
/* window#waybar.right {
 *   border-left: 2px solid @fg-muted;
 * } */

/* ========================================================================== */
/* Maintenance Notes */
/* ========================================================================== */
/*
 * TO CUSTOMIZE COLORS:
 * 1. All colors are defined in .chezmoidata/colors.yaml
 * 2. Change colors there, then run: chezmoi apply
 * 3. Reload waybar: killall -SIGUSR2 waybar
 *
 * TO ADJUST SPACING:
 * - Modify padding values in module styles
 * - Adjust "spacing" in config.tmpl for gap between modules
 *
 * TO CHANGE FONTS:
 * - Modify font-family in * selector
 * - Adjust font-size for HiDPI or preference
 * - Ensure font is installed (fc-list to check)
 *
 * TO ADD BORDERS/ROUNDING:
 * - Uncomment optional border/border-radius styles
 * - Add to individual modules or window#waybar for global effect
 *
 * TO ADD ANIMATIONS:
 * - Uncomment animation styles and @keyframes definitions
 * - Adjust timing and effects as needed
 *
 * DEBUGGING STYLES:
 * - Use GTK Inspector: GTK_DEBUG=interactive waybar
 * - Inspect elements and see applied styles in real-time
 */
