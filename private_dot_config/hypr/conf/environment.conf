# ============================================================================
# Environment Variables
# ============================================================================
# Environment variables for Hyprland session.
# Syntax: env = VARIABLE,value
#
# These variables are set before Hyprland starts and affect all child processes.
# Changes require Hyprland restart (logout/login) to take effect.
# ============================================================================

# ----------------------------------------------------------------------------
# NVIDIA-specific settings (nvidia-open drivers)
# ----------------------------------------------------------------------------
# These variables enable proper Wayland support with NVIDIA GPUs.
# REMOVE/MODIFY these if switching to AMD or Intel GPU.

# Hardware video acceleration driver for NVIDIA
env = LIBVA_DRIVER_NAME,nvidia

# VA-API backend for NVIDIA (requires libva-nvidia-driver package)
# Enables hardware-accelerated video decoding in browsers and media players
env = NVD_BACKEND,direct

# Explicitly set session type to Wayland (informs applications)
env = XDG_SESSION_TYPE,wayland

# Graphics Buffer Manager backend for NVIDIA DRM
env = GBM_BACKEND,nvidia-drm

# OpenGL vendor library for NVIDIA
env = __GLX_VENDOR_LIBRARY_NAME,nvidia

# Hardware cursor support (test mode for modern NVIDIA drivers 580+)
# Legacy value: 1 (disabled) - Previous workaround for NVIDIA cursor bugs
# Modern value: 0 (enabled) - Newer drivers (580+) may have fixed rendering issues
# If cursor issues occur (invisible cursor, rendering artifacts), revert to 1
env = WLR_NO_HARDWARE_CURSORS,0

# Prevent screen tearing with VSync (NVIDIA-specific)
env = __GL_SYNC_TO_VBLANK,1

# ----------------------------------------------------------------------------
# Qt/GTK Application Theming
# ----------------------------------------------------------------------------

# Qt theme engine (qt5ct for manual theming)
env = QT_QPA_PLATFORMTHEME,qt5ct

# Force Qt applications to use Wayland (instead of XWayland fallback)
env = QT_QPA_PLATFORM,wayland

# Disable Qt's client-side decorations (use Hyprland's window decorations)
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1

# Force GTK applications to use Wayland backend
# Fallback to x11 if Wayland support is broken: env = GDK_BACKEND,wayland,x11
env = GDK_BACKEND,wayland

# ----------------------------------------------------------------------------
# Cursor Configuration
# ----------------------------------------------------------------------------
# Cursor size in pixels (default: 24)
# Common values: 24 (standard), 32 (large), 48 (HiDPI)
env = XCURSOR_SIZE,24

# Cursor theme (uncomment and set if using custom cursor theme)
# env = XCURSOR_THEME,Adwaita

# ----------------------------------------------------------------------------
# Browser & Application Wayland Support
# ----------------------------------------------------------------------------
# Force Firefox to use native Wayland (better performance than XWayland)
env = MOZ_ENABLE_WAYLAND,1

# Enable Wayland support for Electron apps (VS Code, Slack, Discord, etc.)
env = ELECTRON_OZONE_PLATFORM_HINT,auto

# Enable explicit sync (syncobj) for Electron/CEF apps (Electron 35+/Chromium 134+)
# Resolves all flickering issues with NVIDIA GPUs
# Requires: Hyprland with syncobj support, modern Electron/Chromium versions
env = ELECTRON_FLAGS,--enable-features=WaylandLinuxDrmSyncobj

# ----------------------------------------------------------------------------
# HiDPI Scaling (uncomment and adjust as needed)
# ----------------------------------------------------------------------------
# env = QT_SCALE_FACTOR,1.5               # Qt global scaling (HiDPI displays)
# env = GDK_SCALE,2                       # GTK global scaling (integer only)
# env = GDK_DPI_SCALE,0.5                 # GTK DPI scaling (compensate GDK_SCALE)
