# ============================================================================
# Window Rules
# ============================================================================
# Per-application window behavior configuration.
# Documentation: https://wiki.hyprland.org/Configuring/Window-Rules/
#
# SYNTAX:
# windowrule = match:PROPERTY VALUE, EFFECT
#
# match:PROPERTY = Condition (class, title, initialClass, initialTitle, etc.)
# EFFECT          = Action to apply (float, size, opacity, workspace, etc.)
#
# FINDING WINDOW PROPERTIES:
# Run: hyprctl clients
# This shows all windows with their class, title, and other properties
# ============================================================================

# ----------------------------------------------------------------------------
# System Dialogs (should float)
# ----------------------------------------------------------------------------
# PulseAudio volume control
windowrule = match:class pavucontrol, float on

# Hyprland Polkit authentication dialog
windowrule = match:class hyprpolkitagent, float on

# Bluetooth manager
windowrule = match:class blueman-manager, float on

# Satty - Screenshot annotation editor
windowrule = match:class com.gabm.satty, float on
windowrule = match:class com.gabm.satty, stay_focused on

# ----------------------------------------------------------------------------
# Nextcloud (preserve existing workflow from KDE)
# ----------------------------------------------------------------------------
windowrule = match:class com.nextcloud.desktopclient.nextcloud, float on
windowrule = match:class com.nextcloud.desktopclient.nextcloud, size 800 600
windowrule = match:class com.nextcloud.desktopclient.nextcloud, stay_focused on

# ----------------------------------------------------------------------------
# Firefox Features
# ----------------------------------------------------------------------------
# Picture-in-Picture: Float and pin to all workspaces
windowrule = match:title Picture-in-Picture, float on
windowrule = match:title Picture-in-Picture, pin on

# ----------------------------------------------------------------------------
# File Manager (Thunar)
# ----------------------------------------------------------------------------
# Main window styling with opacity - tiles by default (fills workspace)
windowrule = match:class thunar, opacity 0.9 0.8

# File operation progress dialogs - float and center
windowrule = match:class thunar, match:title (Copying|Moving|Deleting), float on
windowrule = match:class thunar, match:title (Copying|Moving|Deleting), size 500 200
windowrule = match:class thunar, match:title (Copying|Moving|Deleting), center 1

# File picker dialogs - float and center
windowrule = match:class thunar, match:title (Open|Save), float on
windowrule = match:class thunar, match:title (Open|Save), size 800 600
windowrule = match:class thunar, match:title (Open|Save), center 1

# ============================================================================
# Common Window Rules (uncomment and modify as needed)
# ============================================================================

# ----------------------------------------------------------------------------
# RULE TYPES:
# ----------------------------------------------------------------------------
# float                     - Make window floating
# tile                      - Force window to tile
# fullscreen                - Start window in fullscreen
# maximize                  - Start window maximized
# pin                       - Pin window to all workspaces
# move X Y                  - Position window at coordinates
# size W H                  - Set window size
# center                    - Center window on screen
# pseudo                    - Enable pseudotiling
# monitor N                 - Open on specific monitor
# workspace N               - Send to workspace N
# opacity VALUE             - Set opacity (0.0 - 1.0)
# opaque                    - Force window to be opaque
# animation STYLE           - Override animation style
# noblur                    - Disable blur for this window
# noshadow                  - Disable shadow for this window
# noborder                  - Remove window border
# nofocus                   - Don't focus when opened
# noanim                    - Disable animations
# keepaspectratio           - Maintain aspect ratio when resizing
# forceinput                - Force window to receive input
# windowdance               - Allow window to move between workspaces
# nomaxsize                 - Ignore maximum size hints
# stayfocused               - Keep focus (for popups)
# idleinhibit MODE          - Inhibit idle (none, focus, fullscreen, always)

# ----------------------------------------------------------------------------
# MATCHER TYPES:
# ----------------------------------------------------------------------------
# class:REGEX               - Match window class (most common)
# title:REGEX               - Match window title
# initialClass:REGEX        - Match class at window creation
# initialTitle:REGEX        - Match title at window creation
# tag:NAME                  - Match tagged windows
# floating                  - Match floating windows
# tiled                     - Match tiled windows
# fullscreen:0/1            - Match fullscreen state
# pinned:0/1                - Match pinned state
# workspace:ID              - Match windows on specific workspace
# focus:0/1                 - Match focused/unfocused windows

# ----------------------------------------------------------------------------
# EXAMPLES:
# ----------------------------------------------------------------------------
# Float all dialogs
# windowrule = match:title (.*)(Dialog|dialog)(.*), float

# Picture-in-picture for all browsers
# windowrule = match:title Picture(-| )in(-| )Picture, float
# windowrule = match:title Picture(-| )in(-| )Picture, pin
# windowrule = match:title Picture(-| )in(-| )Picture, size 25% 25%

# Spotify on workspace 9
# windowrule = match:class Spotify, workspace 9

# Transparent terminals
# windowrule = match:class kitty, opacity 0.9

# Center floating calculator
# windowrule = match:class gnome-calculator, float
# windowrule = match:class gnome-calculator, center
# windowrule = match:class gnome-calculator, size 400 600

# Games: fullscreen, no blur/shadow for performance
# windowrule = match:class steam_app_, fullscreen
# windowrule = match:class steam_app_, no_blur on
# windowrule = match:class steam_app_, no_shadow on
# windowrule = match:class steam_app_, idle_inhibit fullscreen

# IDE on workspace 2
# windowrule = match:class code-url-handler, workspace 2

# File picker: float and center
# windowrule = match:title Open File, float
# windowrule = match:title Open File, center

# Notification center: no blur for performance
# windowrule = match:class dunst, no_blur on

# Multiple rules for same window (chain them)
# windowrule = match:class mpv, float
# windowrule = match:class mpv, size 70% 70%
# windowrule = match:class mpv, center
# windowrule = match:class mpv, pin

# ============================================================================
# Layer Rules (for special surfaces like waybar, notifications)
# ============================================================================
# Syntax (Hyprland v0.53+): layerrule = match:namespace = NAME, ACTION VALUE
#
# EXAMPLES:
# layerrule = match:namespace = waybar, blur 1
# layerrule = match:namespace = waybar, ignorealpha 0.5
# layerrule = match:namespace = selection, noanim
# ============================================================================

# Wofi launcher - blur background for transparency readability
layerrule = match:namespace = wofi, blur 1
