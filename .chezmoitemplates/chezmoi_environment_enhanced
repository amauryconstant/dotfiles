{{- /* 
Template: chezmoi_environment_enhanced
Purpose: Export enhanced environment variables including service and package flags
Usage: Include in scripts with {{ template "chezmoi_environment_enhanced" . }}
*/ -}}

# shellcheck disable=all
{{- template "chezmoi_environment_setup" . }}

# Enhanced environment configuration with service and package flags
{{- $destinationConfig := index .destinations .destination }}

# Service-specific flags
export CHEZMOI_DOCKER_ENABLED="{{ if has "docker" $destinationConfig.services }}true{{ else }}false{{ end }}"
export CHEZMOI_OLLAMA_ENABLED="{{ if has "ollama" $destinationConfig.services }}true{{ else }}false{{ end }}"
export CHEZMOI_BLUETOOTH_ENABLED="{{ if has "bluetooth" $destinationConfig.services }}true{{ else }}false{{ end }}"
export CHEZMOI_SNAPD_ENABLED="{{ if has "snapd" $destinationConfig.services }}true{{ else }}false{{ end }}"

# Package category flags
export CHEZMOI_FONTS_ENABLED="{{ if has "fonts" $destinationConfig.packages }}true{{ else }}false{{ end }}"
export CHEZMOI_TERMINAL_ESSENTIALS_ENABLED="{{ if has "terminal_essentials" $destinationConfig.packages }}true{{ else }}false{{ end }}"
export CHEZMOI_TERMINAL_UTILS_ENABLED="{{ if has "terminal_utils" $destinationConfig.packages }}true{{ else }}false{{ end }}"
export CHEZMOI_DEVELOPMENT_TOOLS_ENABLED="{{ if has "development_tools" $destinationConfig.packages }}true{{ else }}false{{ end }}"
export CHEZMOI_DEVELOPMENT_CLIS_ENABLED="{{ if has "development_clis" $destinationConfig.packages }}true{{ else }}false{{ end }}"
export CHEZMOI_LANGUAGES_ENABLED="{{ if has "languages" $destinationConfig.packages }}true{{ else }}false{{ end }}"
export CHEZMOI_PACKAGE_MANAGERS_ENABLED="{{ if has "package_managers" $destinationConfig.packages }}true{{ else }}false{{ end }}"
export CHEZMOI_SYSTEM_SOFTWARE_ENABLED="{{ if has "system_software" $destinationConfig.packages }}true{{ else }}false{{ end }}"
export CHEZMOI_GENERAL_SOFTWARE_ENABLED="{{ if has "general_software" $destinationConfig.packages }}true{{ else }}false{{ end }}"
export CHEZMOI_AI_TOOLS_ENABLED="{{ if has "ai_tools" $destinationConfig.packages }}true{{ else }}false{{ end }}"
export CHEZMOI_TERMINAL_PRESENTATION_ENABLED="{{ if has "terminal_presentation" $destinationConfig.packages }}true{{ else }}false{{ end }}"
